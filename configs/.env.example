# Kratos Template - 环境变量模板
# 复制此文件为 .env 并填入真实值：cp configs/.env.example .env

# ============================================================================
# 数据库配置（必填）
# ============================================================================

# Supabase PostgreSQL 连接串
#
# 获取方式：
# 1. 登录 Supabase 控制台：https://app.supabase.com
# 2. 选择项目 → Settings → Database
# 3. 复制 Connection string (建议使用 Transaction pooler 模式)
#
# 格式说明：
# - Transaction Pooler (推荐生产环境): 端口 6543
#   postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?sslmode=require
#
# - Session Mode (开发环境): 端口 5432
#   postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres?sslmode=require
#
# - 本地 Supabase (Docker): 端口 54322
#   postgresql://postgres:postgres@localhost:54322/postgres?sslmode=disable
#
# ⚠️ 注意事项：
# - 替换 [PASSWORD] 为真实密码
# - 替换 [PROJECT_REF] 为项目引用 ID
# - 替换 [REGION] 为区域（如 us-west-1）
# - 生产环境必须使用 sslmode=require
# - 添加 search_path=kratos_template 指定默认 schema

DATABASE_URL=postgresql://postgres.[PROJECT_REF]:[YOUR_PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?sslmode=require&search_path=kratos_template

# ============================================================================
# 可选配置
# ============================================================================

# 部署区域（用于日志标记）
# REGION=us-west-1

# OpenTelemetry 导出配置（可选）
# OTEL_EXPORTER=otlp
# OTEL_ENDPOINT=https://otel-collector.example.com:4317

# 服务实例 ID（容器环境自动生成，本地可留空）
# INSTANCE_ID=

# ============================================================================
# 示例配置
# ============================================================================

# 本地开发环境（使用 Supabase CLI）
# DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres?sslmode=disable&search_path=kratos_template

# 开发环境（Supabase 云端）
# DATABASE_URL=postgresql://postgres.xxxxx:devPassword123@aws-0-us-west-1.pooler.supabase.com:6543/postgres?sslmode=require&search_path=kratos_template

# 生产环境（使用环境变量管理密码）
# DATABASE_URL=postgresql://postgres.prod:${DB_PASSWORD}@aws-0-us-west-1.pooler.supabase.com:6543/postgres?sslmode=require&search_path=kratos_template
